<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>AMI AI Dashboard</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f5f5e9;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
    }
    nav button {
      background: transparent;
      color: #665c50;
      border: 1px solid #665c50;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    nav button:hover {
      background-color: #e0e0e0;
    }
    .tab {
      display: none;
      max-width: 960px;
      margin: 0 auto;
      text-align: left;
    }
    .tab.active {
      display: block;
    }
    .chatbox {
      margin-top: 20px;
      padding: 15px;
      background: #eef5ff;
      border-radius: 8px;
    }
    .chatbox input {
      width: 80%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .chatbox button {
      background: #665c50;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 50%;
      font-size: 16px;
    }
    .chat-history {
      margin-top: 10px;
      text-align: left;
    }
    .chat-entry {
      background: white;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px 12px;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
    }
    .risk-cao { background-color: #ffd6d6; }
    .risk-trungbinh { background-color: #fff5cc; }
    .risk-thap { background-color: #ddffdd; }
  </style>
</head>
<body>
  <h1>AMI AI Dashboard</h1>

  <nav>
    <button onclick="showTab('legal')">AI Ph√°p L√Ω</button>
    <button onclick="showTab('investment')">AI ƒê·∫ßu T∆∞</button>
    <button onclick="showTab('risk')">AI C·∫£nh B√°o</button>
  </nav>

  <div id="tab-legal" class="tab active">
    <h2>AI Ph√°p L√Ω</h2>
    <div class="chatbox">
      <div>
        <input id="legal-chat-input" type="text" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..."
          onkeydown="if(event.key==='Enter') askLegalBot();">
        <button onclick="askLegalBot()">‚Üë</button>
      </div>
      <div id="legal-chat-response" class="chat-history"></div>
    </div>
  </div>

  <div id="tab-investment" class="tab">
    <h2>AI Qu·∫£n L√Ω ƒê·∫ßu T∆∞</h2>
    <p>ƒêang c·∫≠p nh·∫≠t d·ªØ li·ªáu ƒë·∫ßu t∆∞...</p>
  </div>

  <div id="tab-risk" class="tab">
    <h2>AI C·∫£nh B√°o R·ªßi Ro</h2>
    <p>Ph√°t hi·ªán ch√™nh l·ªách nghi·ªám thu - COD ho·∫∑c thi·∫øu gi·∫•y ph√©p...</p>
    <table>
      <thead>
        <tr><th>D·ª± √Ån</th><th>COD</th><th>Nghi·ªám Thu</th><th>FIT</th><th>Nguy C∆°</th><th>Khuy·∫øn Ngh·ªã</th></tr>
      </thead>
      <tbody>
        <tr class="risk-cao"><td>Kh√°nh H√≤a - AMI</td><td>26/06/2019</td><td>11/09/2019</td><td>FIT 1</td><td>CAO</td><td>Ho√†n thi·ªán h·ªì s∆° ph√°p l√Ω th√°ng 7/2019.</td></tr>
        <tr class="risk-trungbinh"><td>BT1 - AMI</td><td>16/10/2021</td><td>26/10/2021</td><td>FIT 1</td><td>TRUNG B√åNH</td><td>C√¢n nh·∫Øc d·ªùi COD h·ª£p th·ª©c h√≥a FIT.</td></tr>
      </tbody>
    </table>
  </div>

<script>
const last_updated = '25/04/2025';

const updateKeywords = ["h√¥m nay", "c·∫≠p nh·∫≠t", "d·ªØ li·ªáu m·ªõi nh·∫•t", "m·ªõi nh·∫•t", "update"];

function isAskingForUpdate(input) {
  return updateKeywords.some(function(keyword) {
    return input.includes(keyword);
  });
}

function getRandomPendingMessage() {
  const messages = [
    "‚ö†Ô∏è D·ªØ li·ªáu ƒëang ch·ªù c·∫≠p nh·∫≠t...",
    "‚ö†Ô∏è Ch∆∞a c√≥ d·ªØ li·ªáu m·ªõi h√¥m nay."
  ];
  return messages[Math.floor(Math.random() * messages.length)];
}

function askLegalBot() {
  const inputEl = document.getElementById("legal-chat-input");
  const input = inputEl.value.trim().toLowerCase();
  const responseDiv = document.getElementById("legal-chat-response");
  if (!input) return;

  let answer = "";

  if (isAskingForUpdate(input)) {
    if (typeof last_updated !== "undefined" && last_updated) {
      answer = "üóìÔ∏è D·ªØ li·ªáu ƒë√£ c·∫≠p nh·∫≠t l·∫ßn cu·ªëi v√†o ng√†y: <strong>" + last_updated + "</strong>.";
    } else {
      answer = getRandomPendingMessage();
    }
  } else {
    answer = "‚ùó C√¢u h·ªèi n√†y c·∫ßn t∆∞ v·∫•n t·ª´ chuy√™n gia,<br>vui l√≤ng ƒë·∫∑t l·ªãch t∆∞ v·∫•n (500.000ƒë/30 ph√∫t)";
  }

  const entry = document.createElement("div");
  entry.className = "chat-entry";
  entry.innerHTML = "<div class='chat-question'>‚ùì " + inputEl.value + "</div><div class='chat-answer'>" + answer + "</div>";
  responseDiv.prepend(entry);
  inputEl.value = "";
}

function showTab(id) {
  document.querySelectorAll('.tab').forEach(function(tab) {
    tab.classList.remove('active');
  });
  document.getElementById('tab-' + id).classList.add('active');
}
</script>
</body>
</html>
